<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <style>
        #container{
            text-align: center;
            object-position: center;
        }
        #tabbb{
            background-color: 2f363d;
        }
    </style>

    <h:head>


        <link rel="stylesheet" type="text/css" href="./resources/css/style_parkolofelulet.css" />

        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

        </link>
        <script src="https://kit.fontawesome.com/ae00d4e42e.js" crossorigin="anonymous"></script>
        <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />
    </h:head>    
    <h:body>
        
        <div class="navbar">
            <div class="nav-cont">
                <a href="#home">Főoldal</a>
                <a href="#news">Hírek</a>
                <a href="#contact">Kapcsolat</a>
                <a href="#about">Rólunk</a>
            </div>
            <div class="nav-icon">
                <a href="www.facebook.com/Parkhappy_hungary"><i id="nav-i-fb" class="fab fa-facebook"></i></a>
                <a href="www.instagram.hu/Park_happy_hu"><i id="nav-i-ig" class="fab fa-instagram"></i></a>
                <a href="www.youtube.com/parkhappy_hu"><i id="nav-i-yt" class="fab fa-youtube"></i></a>
                <a href="www.parkhappy.hu/account"><i id="nav-i-usr" class="fas fa-user-circle"></i></a>
            </div>
        </div>
        
        <div class="wrapper">
            <nav class="text">
                <ul>
                    <div>
                        <p>PARK HAPPY</p>
                    </div>
                    <div>
                        <p id="text_park">Országos parkolók</p>
                    </div>
                    <br></br>
                </ul>
            </nav>
        </div>

        <h:form style="padding-top: 30px; padding-left: 50px; padding-right: 50px" id="form1">
            <p:tabView class="tabView" id="tab1">
                <p:tab class="tabCity" title="Debrecen">
                    <h:panelGrid id="grid" style="background-color: #eaf4e9" bgcolor="#eaf4e9" cellpadding="20px" width="500px">
                        <p:layoutUnit position="center">
                            <h:dataTable class="table table-striped" value = "#{Auto2bean.parkoloOfDebrecen}" var="o">

                                <h:column>    				
                                    <f:facet name = "header">Rendszám </f:facet>
                                    <h:outputText value="#{o.rendszam}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">Márka </f:facet>
                                    <h:outputText value="#{o.marka}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">Típus</f:facet>
                                    <h:outputText value="#{o.tipus}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">Szín </f:facet>
                                    <h:outputText value="#{o.szin}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">ParkKezd </f:facet>
                                    <h:outputText value="#{o.parkKezd}">
                                        <f:convertDateTime pattern="HH:mm"/>
                                    </h:outputText>        
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">ParkVég </f:facet>
                                    <h:outputText value="#{o.parkVeg}">
                                        <f:convertDateTime pattern="HH:mm"/>
                                    </h:outputText>
                                </h:column>

                            </h:dataTable>
                        </p:layoutUnit>
                    </h:panelGrid>

                    <div class="card" style="background: #8aa350; width: 150px">
                        <div class="card-body" style="background: #8aa350; color: #ffffff">
                            <h5 class="card-title font-weight-bold">Férőhely </h5>

                            <h:outputText value="#{parkoloMBean.parkoloAutoDarabOfDebrecen}"/>
                            /
                            <h:outputText value="#{parkoloMBean.ferohelyOfDebrecen}"/>
                        </div>
                    </div>

                </p:tab>
                <p:tab title="Budapest">
                    <h:panelGrid style="background-color: #eaf4e9" bgcolor="#eaf4e9" cellpadding="20px" width="500px">
                        <p:layoutUnit position="center">
                            <h:dataTable class="table table-striped" value = "#{Auto2bean.parkoloOfBudapest}" var="o">

                                <h:column>    				
                                    <f:facet name = "header">Rendszám </f:facet>
                                    <h:outputText value="#{o.rendszam}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">Márka </f:facet>
                                    <h:outputText value="#{o.marka}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">Típus</f:facet>
                                    <h:outputText value="#{o.tipus}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">Szín </f:facet>
                                    <h:outputText value="#{o.szin}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">ParkKezd </f:facet>
                                    <h:outputText value="#{o.parkKezd}">
                                        <f:convertDateTime pattern="HH:mm"/>
                                    </h:outputText>        
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">ParkVég </f:facet>
                                    <h:outputText value="#{o.parkVeg}">
                                        <f:convertDateTime pattern="HH:mm"/>
                                    </h:outputText>
                                </h:column>

                            </h:dataTable>
                        </p:layoutUnit>
                    </h:panelGrid>

                    <div class="card" style="background: #8aa350; width: 150px">
                        <div class="card-body" style="background: #8aa350; color: #ffffff">
                            <h5 class="card-title font-weight-bold">Férőhely </h5>

                            <h:outputText value="#{parkoloMBean.parkoloAutoDarabOfBudapest}"/>
                            /
                            <h:outputText value="#{parkoloMBean.ferohelyOfBudapest}"/>
                        </div>
                    </div>

                </p:tab>
                <p:tab id="tabbb" title="Győr">
                    <h:panelGrid style="background-color: #eaf4e9" bgcolor="#eaf4e9" cellpadding="20px" width="500px">
                        <p:layoutUnit position="center">
                            <h:dataTable class="table table-striped" value = "#{Auto2bean.parkoloOfGyor}" var="o">

                                <h:column>    				
                                    <f:facet name = "header">Rendszám </f:facet>
                                    <h:outputText value="#{o.rendszam}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">Márka </f:facet>
                                    <h:outputText value="#{o.marka}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">Típus</f:facet>
                                    <h:outputText value="#{o.tipus}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">Szín </f:facet>
                                    <h:outputText value="#{o.szin}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">ParkKezd </f:facet>
                                    <h:outputText value="#{o.parkKezd}">
                                        <f:convertDateTime pattern="HH:mm"/>
                                    </h:outputText>        
                                </h:column>

                                <h:column>
                                    <f:facet name = "header">ParkVég </f:facet>
                                    <h:outputText value="#{o.parkVeg}">
                                        <f:convertDateTime pattern="HH:mm"/>
                                    </h:outputText>
                                </h:column>              

                            </h:dataTable>
                        </p:layoutUnit>
                    </h:panelGrid>

                    <div class="card" style="background: #8aa350; width: 150px">
                        <div class="card-body" style="background: #8aa350; color: #ffffff">
                            <h5 class="card-title font-weight-bold">Férőhely </h5>

                            <h:outputText value="#{parkoloMBean.parkoloAutoDarabOfGyőr}"/>
                            /
                            <h:outputText value="#{parkoloMBean.ferohelyOfGyőr}"/>
                        </div>
                    </div>

                </p:tab>
            </p:tabView>
            <p:contextMenu>
                <p:menuitem value="Főoldal" action="index" icon="pi pi-save"/>
                <p:menuitem value="Autó Felület" action="autoFelulet" icon="pi pi-refresh"/>
            </p:contextMenu>
        </h:form>


        <div id="container" class="container">
            <p:commandButton icon="pi pi-plus-circle" class="btn" value="Parkolóhoz adás" onclick="PF('parkDialog').show();"/>
            <p:commandButton icon="pi pi-clock" class="btn" value="Parkolás Idő Megadása" onclick="PF('parkTimeDialog').show();"/>
        </div>


        <br></br>

        <div class="container">
            <p:commandButton icon="pi pi-arrow-left" class="btn" value="Vissza" action="index"/>
        </div>

        <h:form>
            <p:dialog header="Hiba" widgetVar="requestRendsz" >
                <h:outputText value="A rendszám és parkoló paraméter megadása kötelező"/><br></br>
                <h:commandButton style="font-style: italic; color: #ffffff ; background: #0066ff" value="Ok" onclick="PF('requestRendsz').hide();PF('parkDialog').show();"/>
            </p:dialog>
        </h:form>
        <h:form>
            <p:dialog header="Hiba" widgetVar="megteltParkoloDB" >
                <h:outputText value="Sajnos nincsen több hely a parkolóban, kérjünk válasszon másikat"/><br></br>
                <h:commandButton style="font-style: italic; color: #ffffff ; background: #0066ff" value="Ok" onclick="PF('megteltParkoloDB').hide();PF('parkDialog').show();"/>
            </p:dialog>
        </h:form>
        <br></br>

        <h:form>    
            <p:dialog header="Parkoló" widgetVar="parkDialog">
                <h:outputText value="Kérem adja meg hova és melyik autót szeretné elhelyezni" /><br></br>
                <br></br>

                Rendszám: 
                <p:selectOneMenu value="#{Auto2bean.rendszam}" style="width:150px">                                            
                    <f:selectItem itemValue="" noSelectionOption="true" />
                    <f:selectItems value="#{Auto2bean.rendszamList}" />
                </p:selectOneMenu>

                <p:separator />
                Parkolók: 

                <p:selectOneRadio id="console" value="#{Auto2bean.parkolo}" >
                    <f:selectItem itemLabel="Debrecen" itemValue="Debrecen" />
                    <f:selectItem itemLabel="Budapest" itemValue="Budapest" />
                    <f:selectItem itemLabel="Győr" itemValue="Győr" />
                </p:selectOneRadio>    

                <p:separator />

                <p:commandButton style="font-style: italic; color: #ffffff ; background: #0066ff" update=":form1:tab1" value="Mentés" action="#{Auto2bean.setParkoloTo(Auto2bean.rendszam, Auto2bean.parkolo)}" onclick="PF('parkDialog').hide();"/>
            </p:dialog>
        </h:form>

        <br></br>
        <h:form>
            <p:dialog header="Parkoló idő" widgetVar="parkTimeDialog">
                <h:outputText value="Kérem adja meg mettől meddig kíván parkolni"/><br></br>
                <br></br>

                Rendszám :                                  
                <p:selectOneMenu id="country" value="#{Auto2bean.rendszam}" style="width:150px">                                            
                    <f:selectItem itemLabel="Válasszon" itemValue="" noSelectionOption="true" />
                    <f:selectItems value="#{Auto2bean.rendszamList}" />
                </p:selectOneMenu>
                <p:separator />

                Kezdés: <p:datePicker value="#{Auto2bean.parkKezd}" timeOnly="true" pattern="HH:mm"/> <br></br>
                Végzés: <p:datePicker value="#{Auto2bean.parkVeg}" timeOnly="true" pattern="HH:mm"/> <br></br>
                <p:separator />
                <p:commandButton style="font-style: italic; color: #ffffff ; background: #0066ff" update=":form1:tab1" value="Mentés" action="#{Auto2bean.setParkolasTime(Auto2bean.rendszam, Auto2bean.parkKezd, Auto2bean.parkVeg)}" onclick="PF('parkTimeDialog').hide()"/>


            </p:dialog>
        </h:form>

    </h:body>
</html>
